<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Text Editing</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <script type="text/javascript" src="main.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="js/medium-editor.js"></script>
  <link rel="stylesheet" href="css/medium-editor.css">
  <link rel="stylesheet" href="css/themes/default.css">


</head>
<body>
  <header contenteditable="true" class="editable">This is the Heading</header>
  <div class="editable" contenteditable="true" spellcheck="true">
  
    <p class="first">
      The entire content in this paragraph is editable. Feel free to explore and change the contents to your requirements. Simply start
      typing at the end, start, or in the middle. <br />
      You could also select a portion, or all of it, and rewrite it all.<br />
      You can use <code>Ctrl+Z</code> to undo any mistakes you made while typing.<br />
      Have fun!
    </p>

  </div>  

<!--

<style>
  .speech {border: 1px solid #DDD; width: 300px; padding: 0; margin: 0}
  .speech input {border: 0; width: 240px; display: inline-block; height: 30px;}
  .speech img {float: right; width: 40px }
</style>

 

<form id="labnol" method="get" action="https://www.google.com/search">
  <div class="speech">
    <input type="text" name="q" id="transcript" placeholder="Speak" />
    <img onclick="startDictation()" src="mic.png" />
  </div>
</form>
 
<script>
  function startDictation() {
 
    if (window.hasOwnProperty('webkitSpeechRecognition')) {
 
      var recognition = new webkitSpeechRecognition();
 
      recognition.continuous = false;
      recognition.interimResults = false;
 
      recognition.lang = "en-US";
      recognition.start();
 
      recognition.onresult = function(e) {
        document.getElementById('transcript').value
                                 = e.results[0][0].transcript;
        recognition.stop();
        document.getElementById('labnol').submit();
      };
 
      recognition.onerror = function(e) {
        recognition.stop();
      }
 
    }
  }
</script>
-->

  <form id="labnol" method="get" action="writeTranslated()">
      <img onclick="startDictation()" src="mic.png" />
  </form>

  <script type="text/javascript">
    String data = "";

    function startDictation() {

      if (window.hasOwnProperty('webkitSpeechRecognition')) {

        var recognition = new webkitSpeechRecognition();


        
        recognition.continuous = false;
        recognition.interimResults = false;
        
        
        recognition.lang = "en-US";
        recognition.start();
        
        recognition.onresult = function(e) {

           //console.log('Hello.');
          
          //document.getElementById('translatedText').innerHTML = e.results[0][0].transcript;
          data = e.results[0][0].transcript;
          recognition.stop(); 
      
          
          document.getElementById('labnol').submit();
        }
        
        recognition.onerror = function(e) {
          recognition.stop();
          
        }
      }
    }

    function writeTranslated() {
      document.getElementById("translated").innerHTML+=data;
    }

  </script>
  
  <p id="translated"></p>
    
  <script>var editor = new MediumEditor('.editable');</script>
</body>
</html>